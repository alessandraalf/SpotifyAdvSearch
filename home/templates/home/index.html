<!DOCTYPE html>
<html lang="en">
<head>
    {% load static %}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>SpotyApp</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Comfortaa">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Biryani:wght@900&display=swap">
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/bootstrap-slider.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/11.0.2/css/bootstrap-slider.min.css">


    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
    <!-- Bootstrap core CSS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">

    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js" integrity="sha512-2ImtlRlf2VVmiGZsjm9bEyhjGW4dU7B6TNwh/hx/iSByxNENtj3WVE6o/9Lj4TJeVXPi4bnOIMXFIJJAeufa0A==" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/css/select2.min.css" integrity="sha512-nMNlpuaDPrqlEls3IX/Q56H36qvBASwb3ipuo3MxeWbsQB1881ox0cRv7UPTgBlriqoynt35KjEwgGUeUXIPnw==" crossorigin="anonymous" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/js/bootstrap-datepicker.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.4/css/bootstrap-datepicker.css" rel="stylesheet"/>


    <script>
        $(document).ready(function(){
            $('#selectgenre').select2({
                placeholder: "Select Genres",
                orientation: "bottom"
            });
        });

        $(document).ready(function(){
            $('#excludegenre').select2({
                placeholder: "Select Genres to exclude",
                orientation: "bottom"
            });
        });


    </script>


    <script src="{% static 'js/home.js' %}"></script>
    <script src="{% static 'js/index.js' %}"></script>


    <link rel="stylesheet" href="{% static 'css/home.css' %}">
    </head>
    <body>

        <!-- TITLE -->
        <div >
            <h1 class="text-center">SpotyApp</h1>
        </div>




        <!-- Advanced Search Widget -->
        <div class="container my-5" >

            <!--
            <div id="accordion">
              <div class="card">
                <div class="card-header" id="headingOne">
                    <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne" style="width: 100%;">
                      SEARCHFILTERS QUI??
                    </button>
                </div>

                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordion">
                  <div class="card-body">
            -->


            <!--

                  </div>
                </div>
              </div>
            </div>

            -->

            <div class="form-group">

                <form id="advsearch" class="rounded mb-0 shadow">
                    <div id="advsearchdiv">
                        <input class="form-control shadow-sm" id="keyword" placeholder="Search keyword" style="font-size: 1.1em">

                        <div class="row">

                            <!-- GENRES -->
                            <div id="fgenre" class="col-lg border-top rounded mb-0 shadow-sm">
                                <label class="formt">Search by Genre</label>
                                <div class="genretab">

                                    <br>Select Genres:<br>
                                    <select multiple class="form-control" id="selectgenre" style="width: 100%;">
                                        {% for g in g_list %}
                                        <option>{{ g.name }}</option>
                                        {% endfor %}
                                    </select>
                                    <br><br>
                                    <div class="custom-control custom-checkbox">
                                        <input type="checkbox" name="excludegenre" class="custom-control-input" id="defaultUnchecked" onchange="showExcludeGenre()">
                                        <label class="custom-control-label" for="defaultUnchecked">Exclude Genre</label>
                                    </div>

                                    <div id="excludegenrediv" style="display: none">
                                        <select multiple class="form-control" id="excludegenre" style="width: 100%;">
                                            {% for g in g_list %}
                                            <option>{{ g.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                            </div>

                            <!-- YEARS -->
                            <div id="fyear" class="col-lg border-top rounded mb-0 shadow-sm">
                                <label class="formt">Search by Year</label>

                                <!-- Default switch -->
                                <div class="custom-control custom-switch switchyear">
                                    <input type="checkbox" class="custom-control-input" id="customSwitches" onclick="disableYear()">
                                    <label class="custom-control-label" for="customSwitches"> </label>
                                </div>

                                <div class="row justify-content-center">


                                </div>

                                <div class="container">
                                    <div class="row">
                                        <div class="col" align="center">
                                            <div class="form-check form-check-inline" style="white-space:nowrap">
                                                <div class="customradio">
                                                    <input name="gruppo2" type="radio" id="radio4" checked onclick="showYear()">
                                                </div>
                                                <label id="singleyearlabel" for="radio4" style="font-weight: 400">Select Year</label>
                                            </div>
                                        </div>

                                        <div class="col" align="center">
                                            <div class="form-check form-check-inline" style="white-space:nowrap">
                                                <div class="customradio">
                                                    <input name="gruppo2" type="radio" id="radio5" onclick="showRangeYears()">
                                                </div>
                                                <label id="rangeyearlabel" for="radio5">Select Year Range</label>
                                            </div>
                                        </div>

                                    </div>
                                </div>


                                <div class="tab-content" >
                                    <!-- SINGLE YEARS -->
                                    <div id="yearsdiv">
                                        <input id="singleyears" type="text" class="datepicker form-control" placeholder="Select year..." />
                                    </div>
                                    <!-- RANGE YEARS -->
                                    <div id="rangeyearsdiv" style="display: none">
                                        <br><input id="yearslider" type="text" class="span2" value="" data-slider-min="1900" data-slider-max="2020" data-slider-step="1" data-slider-value="[1990,2010]" style="width: 100%; align-content: center"/>
                                        <br><br>
                                        <div class="custom-control custom-checkbox">
                                            <input type="checkbox" name="excludeyear" class="custom-control-input" id="defaultUnchecked2" onchange="showExcludeYear()">
                                            <label class="custom-control-label" for="defaultUnchecked2">Exclude year from range</label>
                                        </div>
                                        <input id="yearstoexclude" type="text" class="datepicker form-control" placeholder="Select Year" style="display: none"/>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                        <div class="col text-center px-4">
                            <a class="btn btn-success" onclick="searchS()" id="search">SEARCH</a>
                        </div>
                </form>



                <a class="btn btn-success btn-lg btn-block px-2" href="allgenres" role="button"> All genres </a>

            </div>
        </div>

        <script>
            var slider = new Slider('#yearslider', {});

            //per prender id nome genrere fare for sui selected
           // $("#selectgenre").select2('data')[0].id;
            //for (let i = 0; i < $("#selectgenre").select2('data').length; i++) {
            //$("#selectgenre").select2('data')[i].id;}



            $(".datepicker").datepicker({
                format: "yyyy",
                viewMode: "centuries",
                minViewMode: "decade",
                maxViewMode: "centuries",
                orientation: "bottom",
                autoclose: true,
                startDate: '-120y',
                endDate: '+0y',
                startView: "century"
            });


            disableYear();
            

        </script>




    </body>
</html>